{% extends "food/base.html" %}

{% block body  %}

<div class="row">
    <div class="col-md-2 offset-md-1">
        <img
            height="150px"
            width="250px"
            class="card"
            src="{{ item.item_image }}"
        >
    </div>

    <div class="col-md-4 offset-md-1">
        <h1
            style="
                font-style: italic;
            "
        >
            {{ item.item_name }}
        </h1>

        <h2
            style="
                font-style: italic;
                font-size: 1.3rem;
                text-align: justify;
            "
        >
            {{ item.item_desc }}
        </h2>

        <h3>
            ${{ item.item_price }}
        </h3>
</div>


    {% comment %} Admin open {% endcomment %}
    {% if user.is_authenticated and user.profile.user_type == 'admin' %}
        <div class="col-md-3 offset-md-1">
            <a
                href="{% url 'food:updateitem' item.id %}"
                style="width:80px"
                class="btn btn-warning"
            >
                Edit
            </a>

            <a
                href="{% url 'food:deleteitem' item.id %}"
                style="width:80px"
                class="btn btn-danger"
            >
                Delete
            </a>

            <a
                href="{% url 'food:Index' %}"
                style="width:80px"
                class="btn btn-success"
            >
                Back
            </a>
        </div>
    
    {% endif %}
    {% comment %} Admin close {% endcomment %}

    {% comment %} rest open {% endcomment %}
    {% if user.is_authenticated and user.profile.user_type == 'rest' %}
        <div class="col-md-3 offset-md-1">
            <a
                href="{% url 'food:updateitem' item.id %}"
                style="width:80px"
                class="btn btn-warning"
            >
                Edit
            </a>

            <a
                href="{% url 'food:Index' %}"
                style="width:80px"
                class="btn btn-success"
            >
                Back
            </a>
        </div>
    
    {% endif %}
    {% comment %} rest close {% endcomment %}

         {% comment %} rest open {% endcomment %}
    {% if user.is_authenticated and user.profile.user_type == 'cust' %}
    <div class="col-md-3 offset-md-1">
        <a
            href="{% url 'users:cart' item.id item.prod_code user.username %}"
            style="width:80px"
            class="btn btn-warning"
        >
            Cart
        </a>

        <a
            href="{% url 'food:Index' %}"
            style="width:80px"
            class="btn btn-success"
        >
            Back
        </a>
    </div>

{% endif %}
{% comment %} rest close {% endcomment %}


</div>
{% if user.is_authenticated %}

    {% comment %} product updates open {% endcomment %}
        {% if user.profile.user_type == 'Admin' or user.profile.user_type == 'rest' or user.profile.user_type %}
            {% for obj in history %}

                <div
                    class="row mb-1">
            
                    <div
                        class="col-md-8
                            offset-md-2
                            bg-danger
                            text-white">
            
                            <div
                                class="row">
            
                                <div 
                                    class="col-md-3 
                                        text-left">
            
                                    {{ obj.username }}
                                </div>
            
                                <div 
                                    class="col-md-3 
                                        text-left">
            
                                    {{ obj.prod_code }}
                                </div>
            
                                <div 
                                    class="col-md-3 
                                        text-left">
            
                                    {{ obj.item_name }}
                                </div>
            
                                <div 
                                    class="col-md-3 
                                        text-left">
            
                                    {{ obj.operation }}
                                </div>
                            </div>
                    </div>
            
                    <div
                        class="col-md-2">
            
                    </div>
            
                </div>
        
            {% endfor %}


        {% endif %}
    {% comment %} product updates close {% endcomment %}
    

    {% comment %} product cart open {% endcomment %}
    {% comment %} product cart close {% endcomment %}

    {% comment %} product feedbacks/ratings open {% endcomment %}
    {% comment %} product updates close {% endcomment %}
    
{% endif %}

{% endblock %}

